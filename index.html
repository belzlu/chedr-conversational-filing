<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chedr â€” Conversational Filing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Apple HIG: SF Pro system font stack -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['SF Pro Text', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
              display: ['SF Pro Display', '-apple-system', 'BlinkMacSystemFont', 'sans-serif'],
            },
            fontSize: {
              'hig-largeTitle': ['34px', { lineHeight: '41px', letterSpacing: '0.37px', fontWeight: '600' }], // Display Semibold
              'hig-title1': ['28px', { lineHeight: '34px', letterSpacing: '0.36px', fontWeight: '600' }],
              'hig-title2': ['22px', { lineHeight: '28px', letterSpacing: '0.35px', fontWeight: '600' }],
              'hig-title3': ['20px', { lineHeight: '25px', letterSpacing: '0.38px', fontWeight: '600' }],
              'hig-headline': ['17px', { lineHeight: '22px', letterSpacing: '-0.41px', fontWeight: '600' }],
              'hig-body': ['17px', { lineHeight: '1.4', letterSpacing: '-0.41px', fontWeight: '400' }], // Body Regular
              'hig-callout': ['16px', { lineHeight: '21px', letterSpacing: '-0.32px', fontWeight: '400' }],
              'hig-subhead': ['15px', { lineHeight: '20px', letterSpacing: '-0.24px', fontWeight: '400' }],
              'hig-footnote': ['13px', { lineHeight: '18px', letterSpacing: '-0.08px', fontWeight: '400' }],
              'hig-caption1': ['12px', { lineHeight: '16px', letterSpacing: '0', fontWeight: '400' }],
              'hig-caption2': ['11px', { lineHeight: '13px', letterSpacing: '0.06px', fontWeight: '400' }],
              'hig-section-header': ['10px', { lineHeight: '12px', letterSpacing: '0', fontWeight: '500' }], // Medium
            },
            borderRadius: {
              'hig-bubble': '18px',
              'hig-chip': '9999px', // Capsule
              'hig-input': '18px',
              'hig-card': '12px',
              xl: "var(--r-xl)",
            },
            boxShadow: {
              elev1: "var(--sh-elev-1)",
              elev2: "var(--sh-elev-2)",
            },
            spacing: {
              // Apple HIG 8pt grid
              'hig-xs': '4px',
              'hig-sm': '8px',
              'hig-md': '16px',
              'hig-lg': '24px',
              'hig-xl': '32px',
            },
            colors: {
              glassClear: "var(--glass-clear)",
              // Apple HIG System Colors (Dark Mode)
              'hig-blue': '#0A84FF',
              'hig-green': '#30D158',
              'hig-red': '#FF453A',
              'hig-orange': '#FF9F0A',
              'hig-yellow': '#FFD60A',
              'hig-teal': '#40C8E0',
              'hig-indigo': '#5E5CE6',
              // Apple HIG Grays (Dark Mode)
              'hig-gray': '#8E8E93',
              'hig-gray2': '#636366',
              'hig-gray3': '#48484A',
              'hig-gray4': '#3A3A3C',
              'hig-gray5': '#2C2C2E',
              'hig-gray6': '#1C1C1E',
              // Chat bubble colors
              'bubble-sent': '#0A84FF',
              'bubble-received': '#2C2C2E',
              // Legacy accent (keeping for gradual migration)
              accent: '#0A84FF',
              ok: '#30D158',
              danger: '#FF453A',
            },
            keyframes: {
              'loading-bar': {
                '0%': { transform: 'translateX(-100%)' },
                '100%': { transform: 'translateX(100%)' }
              },
              'hig-pulse': {
                '0%, 100%': { opacity: '0.4' },
                '50%': { opacity: '1' }
              }
            },
            animation: {
              'loading-bar': 'loading-bar 1.5s infinite ease-in-out',
              'hig-pulse': 'hig-pulse 1.2s ease-in-out infinite'
            }
          },
        },
      }
    </script>
    <style>
      :root {
        /* Apple HIG: Border Radius */
        --r-lg: 16px;
        --r-xl: 20px;
        --r-bubble: 18px;
        --r-chip: 9999px;

        /* Apple HIG: Shadows */
        --sh-elev-1: 0 1px 0 rgba(0,0,0,.1), 0 8px 32px rgba(0,0,0,.2);
        --sh-elev-2: 0 1px 0 rgba(0,0,0,.12), 0 12px 48px rgba(0,0,0,.3);

        /* Apple HIG: Borders */
        --bd-hairline: 1px;
        --bd-light: rgba(255, 255, 255, 0.08);
        --bd-dark: rgba(0, 0, 0, 0.3);

        /* Apple HIG: Blur */
        --blur-nav: 14px;
        --blur-glass: 20px;

        /* Alpha values */
        --a-ultraThin: .45;
        --a-thin: .60;
        --a-regular: .72;

        /* Apple HIG: Dark Mode Surfaces */
        --surface-0: #000000;
        --surface-1: #1C1C1E;
        --surface-2: #2C2C2E;
        --surface-3: #3A3A3C;

        /* Apple HIG: Glass */
        --glass-regular: rgba(255, 255, 255, 0.06);
        --glass-clear: rgba(255, 255, 255, 0.03);

        /* Apple HIG: Text Colors (Dark Mode) */
        --tx-1: rgba(255, 255, 255, 1);
        --tx-2: rgba(255, 255, 255, 0.6);
        --tx-3: rgba(255, 255, 255, 0.3);

        /* Apple HIG: System Colors (Dark Mode) */
        --hig-blue: #0A84FF;
        --hig-blue-light: #007AFF;
        --hig-green: #30D158;
        --hig-red: #FF453A;
        --hig-gray: #8E8E93;
        --hig-gray5: #2C2C2E;
        --hig-gray6: #1C1C1E;

        /* Chat specific */
        --bubble-sent: #007AFF;
        --bubble-received: #2C2C2E;
        --bubble-sent-text: #FFFFFF;
        --bubble-received-text: #FFFFFF;

        color-scheme: dark;
      }

      /* Apple HIG: Light Mode Support */
      @media (prefers-color-scheme: light) {
        :root {
          /* Apple HIG: Light Mode Surfaces */
          --surface-0: #FFFFFF;
          --surface-1: #F2F2F7;
          --surface-2: #E5E5EA;
          --surface-3: #D1D1D6;

          /* Apple HIG: Text Colors (Light Mode) */
          --tx-1: rgba(0, 0, 0, 1);
          --tx-2: rgba(0, 0, 0, 0.6);
          --tx-3: rgba(0, 0, 0, 0.3);

          /* Apple HIG: System Colors (Light Mode) */
          --hig-blue: #007AFF;
          --hig-green: #34C759;
          --hig-red: #FF3B30;
          --hig-gray: #8E8E93;
          --hig-gray5: #E5E5EA;
          --hig-gray6: #F2F2F7;

          /* Chat specific (Light Mode) */
          --bubble-sent: #007AFF;
          --bubble-received: #E5E5EA;
          --bubble-sent-text: #FFFFFF;
          --bubble-received-text: #000000;

          --bd-light: rgba(0, 0, 0, 0.08);

          color-scheme: light;
        }

        body {
        background-color: #1C1C1E;
        color: rgba(255, 255, 255, 0.85);
        font-family: 'SF Pro Text', -apple-system', BlinkMacSystemFont, sans-serif;
        -webkit-font-smoothing: antialiased;
      }

        .hig-bubble-received {
          color: var(--bubble-received-text);
        }

        .hig-chip-secondary {
          background: var(--surface-2);
          color: var(--hig-blue);
        }

        .hig-typing-indicator {
          background: var(--surface-2);
        }
      }

      body {
        /* Apple HIG: Pure black background for OLED */
        background-color: #000000;
        background-image: none;
        color: var(--tx-1);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-feature-settings: "kern" 1, "liga" 1;
        overflow: hidden;
        /* Apple HIG: Default body text */
        font-size: 17px;
        line-height: 22px;
        letter-spacing: -0.41px;
      }

      .surface-opaque {
        background: var(--surface-0);
        color: var(--tx-1);
        border: 1px solid var(--bd-light);
      }

      /* Apple HIG: Chat Bubble Styles */
      .hig-bubble {
        border-radius: var(--r-bubble);
        padding: 12px 16px;
        max-width: 75%;
        font-size: 17px;
        line-height: 22px;
        letter-spacing: -0.41px;
      }

      .hig-bubble-sent {
        background: var(--bubble-sent);
        color: var(--bubble-sent-text);
        border-bottom-right-radius: 4px;
        margin-left: auto;
      }

      .hig-bubble-received {
        background: var(--bubble-received);
        color: var(--bubble-received-text);
        border-bottom-left-radius: 4px;
      }

      /* Apple HIG: Capsule Chip Styles */
      .hig-chip {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 36px;
        padding: 0 16px;
        border-radius: var(--r-chip);
        font-size: 15px;
        font-weight: 500;
        line-height: 20px;
        letter-spacing: -0.24px;
        transition: all 0.2s ease;
        cursor: pointer;
        min-width: 44px; /* HIG touch target */
      }

      .hig-chip-primary {
        background: var(--hig-blue);
        color: white;
      }

      .hig-chip-primary:hover {
        filter: brightness(1.1);
      }

      .hig-chip-secondary {
        background: var(--surface-2);
        color: var(--hig-blue);
        border: 1px solid var(--bd-light);
      }

      .hig-chip-secondary:hover {
        background: var(--surface-3);
      }

      /* Apple HIG: Input Field */
      .hig-input {
        background: var(--surface-2);
        border: 1px solid transparent;
        border-radius: var(--r-bubble);
        padding: 12px 16px;
        font-size: 17px;
        line-height: 22px;
        color: var(--tx-1);
        outline: none;
        transition: border-color 0.2s ease;
      }

      .hig-input:focus {
        border-color: var(--hig-blue);
      }

      .hig-input::placeholder {
        color: var(--tx-3);
      }

      /* Apple HIG: Timestamp */
      .hig-timestamp {
        font-size: 11px;
        line-height: 13px;
        letter-spacing: 0.07px;
        color: var(--tx-3);
      }

      /* Apple HIG: Section header */
      .hig-section-header {
        font-size: 13px;
        font-weight: 600;
        line-height: 18px;
        letter-spacing: -0.08px;
        color: var(--tx-2);
        text-transform: uppercase;
      }

      .material-shell-ultraThin,
      .material-shell-regular {
        border-radius: var(--r-xl);
        border: var(--bd-hairline) solid var(--bd-light);
        box-shadow: var(--sh-elev-1);
        backdrop-filter: blur(var(--blur-nav));
        -webkit-backdrop-filter: blur(var(--blur-nav));
      }

      .material-shell-ultraThin { background: rgba(30, 32, 40, 0.45); }
      .material-shell-regular   { background: rgba(20, 22, 28, 0.60); backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px); border-right: 1px solid rgba(255,255,255,0.05); }

      .liquid-glass {
        border-radius: var(--r-xl);
        border: var(--bd-hairline) solid var(--bd-light);
        backdrop-filter: blur(var(--blur-glass)) saturate(1.2);
        -webkit-backdrop-filter: blur(var(--blur-glass)) saturate(1.2);
        box-shadow: var(--sh-elev-2);
        position: relative;
        overflow: hidden;
      }

      .liquid-glass[data-variant="regular"] { background: var(--glass-regular); }
      .liquid-glass[data-variant="clear"]   { background: var(--glass-clear); }

      .liquid-glass::before {
        content: "";
        position: absolute;
        inset: -40% -20% auto -20%;
        height: 120%;
        background: radial-gradient(closest-side, rgba(255,255,255,.1), rgba(255,255,255,0));
        transform: translateY(-20%);
        pointer-events: none;
      }

      @media (prefers-reduced-motion: reduce) {
        .liquid-glass { transition: none !important; }
        .liquid-glass::before { display: none; }
      }

      @media (prefers-contrast: more) {
        .liquid-glass, .material-shell-ultraThin, .material-shell-regular {
          border-color: rgba(255,255,255, 0.4);
        }
      }

      [data-reduce-transparency="true"] .liquid-glass,
      [data-reduce-transparency="true"] .material-shell-ultraThin {
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
        background: var(--surface-1);
      }

      ::-webkit-scrollbar { width: 4px; }
      ::-webkit-scrollbar-track { background: transparent; }
      ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.1); border-radius: 10px; }
      
      /* Apple HIG: Chat text styling */
      .chat-text {
        font-size: 17px;
        line-height: 22px;
        letter-spacing: -0.41px;
      }

      .chat-text b, .chat-text strong {
        color: inherit;
        font-weight: 600;
      }

      .chat-text p {
        margin-bottom: 12px;
      }

      .chat-text p:last-child {
        margin-bottom: 0;
      }

      /* Apple HIG: Typing indicator */
      .hig-typing-indicator {
        display: flex;
        align-items: center;
        gap: 4px;
        padding: 12px 16px;
        background: var(--surface-2);
        border-radius: var(--r-bubble);
        border-bottom-left-radius: 4px;
        width: fit-content;
      }

      .hig-typing-dot {
        width: 8px;
        height: 8px;
        background: var(--tx-3);
        border-radius: 50%;
        animation: hig-typing 1.4s infinite ease-in-out;
      }

      .hig-typing-dot:nth-child(1) { animation-delay: 0s; }
      .hig-typing-dot:nth-child(2) { animation-delay: 0.2s; }
      .hig-typing-dot:nth-child(3) { animation-delay: 0.4s; }

      @keyframes hig-typing {
        0%, 60%, 100% {
          transform: translateY(0);
          opacity: 0.4;
        }
        30% {
          transform: translateY(-4px);
          opacity: 1;
        }
      }

      /* Apple HIG: Touch targets */
      .hig-touch-target {
        min-width: 44px;
        min-height: 44px;
      }

      /* Apple HIG: Safe area padding for mobile */
      @supports (padding-bottom: env(safe-area-inset-bottom)) {
        .hig-safe-area-bottom {
          padding-bottom: calc(8px + env(safe-area-inset-bottom));
        }
      }

      /* Apple HIG: Reduced motion support */
      @media (prefers-reduced-motion: reduce) {
        .hig-typing-dot {
          animation: none;
          opacity: 0.6;
        }
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* Apple HIG: High contrast mode */
      @media (prefers-contrast: more) {
        .hig-bubble-received {
          border: 1px solid var(--tx-2);
        }
        .hig-chip-secondary {
          border: 1px solid var(--tx-2);
        }
      }
    </style>
    <script type="importmap">
    {
      "imports": {
        "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
        "@google/genai": "https://esm.sh/@google/genai@^1.38.0",
        "lucide-react": "https://esm.sh/lucide-react@^0.563.0",
        "react/": "https://esm.sh/react@^19.2.4/",
        "react": "https://esm.sh/react@^19.2.4"
      }
    }
    </script>
  <link rel="stylesheet" href="/index.css">
</head>
  <body>
    <div id="root"></div>
    <script type="module" src="index.tsx"></script>
  <script type="module" src="/index.tsx"></script>
</body>
</html>
